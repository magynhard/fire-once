/**
 * fire-once
 *
 * Javascript library that ensures that an irregularly but frequently event is fired only once at the given period.
 *
 * @version 0.0.8
 * @date 2024-06-18T11:18:45.316Z
 * @link https://github.com/magynhard/fire-once
 * @author Matth채us J. N. Beyrle
 * @copyright Matth채us J. N. Beyrle
 */
/**
 * fire-once
 *
 * Javascript library that ensures that an irregularly but frequently event is fired only once at the given period.
 *
 * @version 0.0.8
 * @date 2024-06-18T11:18:45.171Z
 * @link https://github.com/magynhard/fire-once
 * @author Matth채us J. N. Beyrle
 * @copyright Matth채us J. N. Beyrle
 */
class FireOnce{static fire(t,e,n={period:1e3}){const c=FireOnce;n??={},n.period??=1e3;let a=c._functions[t];return a||(a=c._functions[t]={},a.stack_count=0,a.last_call=new Date(Date.now()-n.period)),a.func=e,a.options=n,++a.stack_count,c._fire(a)}static _fire(t){const e=FireOnce;e._readyToFire(t)?(t.func(),t.last_call=new Date,t.stack_count=0):(1===t.stack_count&&setTimeout((()=>{e._fire(t)}),e._readyInMs(t)),++t.stack_count)}static _readyToFire(t){return new Date-t.last_call>=t.options.period}static _readyInMs(t){const e=t.options.period-(new Date-t.last_call);return e<0?1:e+1}}FireOnce._functions={};